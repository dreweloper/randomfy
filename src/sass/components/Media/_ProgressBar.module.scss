@use '../../utils' as *;

// VARIABLES
$track-height: 4px;
$thumb-height: 12px;

.progressBar {
    @include displayFlex(row, center, center);
    margin: 0 auto;
    gap: 8px;

    .time {
        width: 32px;
        font-size: var(--fs-xxs);
        font-weight: 300;
        text-align: center;
        color: $secondary-300;
    }

    input[type="range"] {
        --range-progress: 0 // Custom property to dynamically set width within '::before' pseudo-element.

        -webkit-appearance: none;
        appearance: none;
        position: relative;
        width: 120px;
        height: 4px;
        border-radius: 2px;
        background: transparent;
        cursor: pointer;

        /***** Track Styles *****/
        // Represents the groove in which the thumb slides (track duration time).

        /***** Chrome, Safari, Opera, and Edge Chromium *****/
        &::-webkit-slider-runnable-track {
            width: 100%;
            height: $track-height;
            border-radius: 2px;
            background-color: $secondary-200;
        }

        /***** Firefox *****/
        &::-moz-range-track {
            width: 100%;
            height: $track-height;
            border-radius: 2px;
            background-color: $secondary-200;
        }

        /***** Thumb Styles *****/
        // Represents the indicator that slides in the groove (the slider "button").

        /***** Chrome, Safari, Opera, and Edge Chromium *****/
        &::-webkit-slider-thumb {
            -webkit-appearance: none; /* Override default look */
            appearance: none;
            position: relative;
            margin-top: ($track-height / 2) - ($thumb-height / 2); /* Centers thumb on the track */
            width: 12px;
            height: $thumb-height;
            border: 1px solid $secondary-200;
            border-radius: 50%;
            background-color: $secondary-600;
            z-index: 10;
        }

        /***** Firefox *****/
        &::-moz-range-thumb {
            position: relative;
            width: 12px;
            height: $thumb-height;
            border: 1px solid $secondary-200;
            border-radius: 50%;
            background-color: $secondary-600;
            z-index: 10;
        }

        /***** Progress Styles *****/
        // Represents the lower portion of the track (track current time).

        /***** Chrome, Safari, Opera, and Edge Chromium *****/
        &::before {
            content: '';
            position: absolute;
            top: 0; left: 0;
            width: var(--range-progress);
            height: 4px;
            border-radius: 2px;
            background-color: $accent-600;
            z-index: 1;
        }

        /***** Firefox *****/
        &::-moz-range-progress {
            height: 4px;
            border-radius: 2px;
            background-color: $accent-600;
            z-index: 1;
        }

        &:hover {

            /***** Chrome, Safari, Opera, and Edge Chromium *****/
            &::-webkit-slider-thumb {
                background-color: $accent-500;
            }

            /***** Firefox *****/
            &::-moz-range-thumb {
                background-color: $accent-500;
            }
        }
    }
}